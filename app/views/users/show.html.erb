<h2>My Profile</h2>

<p>
  <b>Email:</b>
  <%= @user.email %>
</p>
<p>
  <b><%= image_tag("", :class => "flag flag-#{@user.results[0].try(:country)} showMe", :alt => "Country Flag")%></b>
</p>

<h3>Races</h3>

<div class="row">
  <div class="span6">
    <table class="table table-striped table-condensed">
      <thead>
        <tr>
          <th>Total Time</th>
          <th>Bib</th>
          <th>Division Rank</th>
          <th>Overall Rank</th>
          <th>Swim Time</th>
          <th>Bike Time</th>
          <th>Run Time</th>
          <th></th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <% @user.results.each do |result| %>
          <tr>
            <td><%= result.totalTime.try(:strftime, "%H:%M:%S") %></td>
            <td><%= result.bib %></td>
            <td><%= result.divisionRank %></td>
            <td><%= result.overallRank %></td>
            <td><%= result.swimTime.try(:strftime, "%H:%M:%S") %></td>
            <td><%= result.bikeTime.try(:strftime, "%H:%M:%S") %></td>
            <td><%= result.runTime.try(:strftime, "%H:%M:%S") %></td>
            <td><%= link_to 'Edit', edit_result_path(result), :class => "btn" %></td>
            <td><%= link_to 'Destroy', result, :class => "btn btn-danger", method: :delete %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <div class="form-actions">
      <%= link_to 'Add a Race', new_result_path, :class => 'btn' %>
    </div>
  </div>
  <div class="span5 well">

  </div>
</div>


<style>
  .draggable { 
      width: 90px; 
      height: 80px; 
      padding: 5px; 
      float: left; 
      margin: 0 10px 10px 0; 
      font-size: .9em;
      border:1px solid #ccc;
      }
  .ui-widget-header p, .ui-widget-content p { margin: 0; }
  #snaptarget { height: 140px; border:1px solid #ccc;}
</style>
<script>
  $(function() {
    $( "#draggable" ).draggable({ snap: ".ui-widget-header", snapMode: "inner" });
    $( "#draggable2" ).draggable({ snap: ".ui-widget-header", snapMode: "inner" });
    $( "#draggable3" ).draggable({ snap: ".ui-widget-header", snapMode: "inner" });
    $( "#draggable4" ).draggable({ snap: ".ui-widget-header", snapMode: "inner" });
    $( "#draggable5" ).draggable({ snap: ".ui-widget-header", snapMode: "inner" });
  });
</script>
  
<div id="snaptarget" class="ui-widget-header">
  <p>I'm a snap target</p>
</div>

<%= image_tag("trophy.png")%>

<div id="draggable" class="draggable ui-widget-content">
  <p>Default (snap: true), snaps to all other draggable elements</p>
</div>

<div id="draggable2" class="draggable ui-widget-content">
  <p>I only snap to the big box</p>
</div>

<div id="draggable3" class="draggable ui-widget-content">
  <p>I only snap to the outer edges of the big box</p>
</div>

<div id="draggable4" class="draggable ui-widget-content">
  <p>I snap to a 20 x 20 grid</p>
</div>

<div id="draggable5" class="draggable ui-widget-content">
  <p>I snap to a 80 x 80 grid</p>
</div>



  
